# 1 筆書きマスパズル（JS）

Canvas 上で遊べる「1 筆書きマスパズル」です。盤面サイズ・お邪魔マス数を変えて問題を生成し、スタートからゴールまで **通行可能マスをすべて 1 回ずつ** 通るルートを描きます。

## ルール（概要）

- 上下左右に隣接するマスへ移動します（斜め不可）
- 同じマスを 2 回通れません
- ☒（お邪魔）マスには入れません
- スタートから開始し、ゴールで終了します
- **通行可能マス（白）をすべて 1 回ずつ通過** するとクリアです

詳細は [仕様書.md](仕様書.md) を参照してください。

## 操作方法

- スタート（S）をクリック/タッチして開始
- ドラッグで線を引きます
- 途中でクリック/タッチを離すとその場で停止し、同じ終点から続きが書けます
- 直前のマスに戻る動きをすると「1 手戻し（取り消し）」できます
- すでに引いたルート上の任意のマスをクリックすると、そこまで巻き戻して続きが書けます

## ローカルで遊ぶ

このプロジェクトは静的ファイルだけで動作します。

- そのまま `index.html` をブラウザで開いても OK
- もしくは簡易サーバ（推奨）

例（Python）:

```bash
python -m http.server 8000
```

その後 `http://localhost:8000/` を開きます。

## GitHub Pages で遊ぶ

このリポジトリには GitHub Actions で Pages にデプロイする設定を含めています。

1. GitHub に push
2. リポジトリの **Settings → Pages** を開く
3. **Build and deployment** を **GitHub Actions** にする
4. `main` ブランチへ push すると自動で公開されます

公開 URL は通常 `https://<ユーザー名>.github.io/<リポジトリ名>/` です。

## 開発メモ

- 生成の品質・制約（帯状回避など）は [main.js](main.js) に実装されています
- ストレステスト: `?stress=1` で簡易検証を走らせます（詳細は console / `window.__stressSummaries`）
