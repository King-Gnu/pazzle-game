<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>1筆書きマスパズル</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>1筆書きマスパズル</h1>
    <div id="game-container">
        <div id="controls">
            <label for="size-select">盤面サイズ:</label>
            <select id="size-select">
                <option value="6" selected>6×6</option>
                <option value="7">7×7</option>
                <option value="8">8×8</option>
                <option value="9">9×9</option>
                <option value="10">10×10</option>
            </select>
            <label for="obstacle-input">お邪魔マス数:</label>
            <input type="number" id="obstacle-input" min="0" value="0" />
            <span id="obstacle-max"></span>
            <button id="regenerate-btn">次の問題</button>
        </div>
        <div id="difficulty-display">
            <span id="difficulty-label">難易度:</span>
            <span id="difficulty-value">-</span>
            <div id="difficulty-bar">
                <div id="difficulty-fill"></div>
            </div>
        </div>
        <canvas id="board" width="600" height="600"></canvas>
        <div id="ui">
            <button id="reset-btn">リセット</button>
            <button id="hint-btn">クリアルート表示</button>
            <span id="message"></span>
        </div>
        <div id="share-controls">
            <button id="copy-puzzle-btn">📋 問題コードをコピー</button>
            <button id="load-puzzle-btn">📥 問題コードを入力</button>
        </div>
    </div>

    <!-- クリアルート表示用のモーダル -->
    <div id="solution-modal" style="display:none;">
        <div id="solution-overlay"></div>
        <div id="solution-content">
            <h2>クリアルート</h2>
            <canvas id="solution-canvas" width="400" height="400"></canvas>
            <div id="solution-info"></div>
            <button id="close-modal-btn">閉じる</button>
        </div>
    </div>

    <!-- 問題共有用モーダル -->
    <div id="share-modal" style="display:none;">
        <div id="share-overlay"></div>
        <div id="share-content">
            <h2 id="share-modal-title">問題コード</h2>
            <p id="share-modal-desc">以下のコードをコピーして共有してください</p>
            <textarea id="share-code-area" rows="3" readonly></textarea>
            <div id="share-buttons">
                <button id="share-copy-btn">コピー</button>
                <button id="share-close-btn">閉じる</button>
            </div>
        </div>
    </div>

    <!-- 問題読み込み用モーダル -->
    <div id="load-modal" style="display:none;">
        <div id="load-overlay"></div>
        <div id="load-content">
            <h2>問題コードを入力</h2>
            <p>共有された問題コードを貼り付けてください</p>
            <textarea id="load-code-area" rows="3" placeholder="問題コードを貼り付け..."></textarea>
            <div id="load-buttons">
                <button id="load-confirm-btn">読み込み</button>
                <button id="load-cancel-btn">キャンセル</button>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>

</html>